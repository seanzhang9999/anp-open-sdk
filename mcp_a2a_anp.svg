<svg width="1600" height="1200" viewBox="0 0 1600 1200" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景渐变 -->
  <defs>
    <!-- 背景渐变 -->
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1e3c72;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2a5298;stop-opacity:1" />
    </linearGradient>
    
    <!-- 容器背景 -->
    <linearGradient id="containerBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa;stop-opacity:0.95" />
      <stop offset="100%" style="stop-color:#e9ecef;stop-opacity:0.95" />
    </linearGradient>
    
    <!-- Agent渐变 -->
    <linearGradient id="agentGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f6d365;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fda085;stop-opacity:1" />
    </linearGradient>
    
    <!-- MCP资源渐变 -->
    <linearGradient id="mcpGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <!-- ANP网络渐变 -->
    <linearGradient id="anpGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <!-- 底层资源渐变 -->
    <linearGradient id="resourceGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a8edea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fed6e3;stop-opacity:1" />
    </linearGradient>
    
    <!-- 连接线渐变 -->
    <linearGradient id="connectionGradient1" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#764ba2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fda085;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="connectionGradient2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fda085;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="connectionGradient3" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00f2fe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="connectionGradient4" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#764ba2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fed6e3;stop-opacity:1" />
    </linearGradient>
    
    <!-- 阴影滤镜 -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="5" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
    
    <!-- 标签背景渐变 -->
    <linearGradient id="labelGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- 背景 -->
  <rect width="1600" height="1200" fill="url(#bgGradient)"/>
  
  <!-- 容器 -->
  <rect x="50" y="50" width="1500" height="1100" rx="20" fill="url(#containerBg)" stroke="none" filter="url(#shadow)"/>
  
  <!-- 标题 -->
  <text x="800" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="36" font-weight="bold" fill="#2c3e50">
    Agent间A2A-MCP-ANP完整架构
  </text>
  
  <!-- 图表区域背景 -->
  <rect x="100" y="180" width="1400" height="900" rx="15" fill="url(#containerBg)" stroke="#bdc3c7" stroke-width="2" stroke-dasharray="10,5"/>
  
  <!-- 协议层级标识 -->
  <g font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    <rect x="120" y="230" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="254" text-anchor="middle">Agent层</text>
    
    <rect x="120" y="380" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="404" text-anchor="middle">A2A层</text>
    
    <rect x="120" y="530" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="554" text-anchor="middle">ANP层</text>
    
    <rect x="120" y="680" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="704" text-anchor="middle">MCP层</text>
    
    <rect x="120" y="860" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="884" text-anchor="middle">资源层</text>
  </g>
  
  <!-- 连接线 -->
  <!-- Agent A和Agent B之间的横向连接线 -->
  <rect x="500" y="288" width="600" height="4" fill="url(#connectionGradient1)"/>
  
  <!-- Agent到ANP垂直连接线 -->
  <rect x="398" y="350" width="4" height="150" fill="url(#connectionGradient2)"/>
  <rect x="1198" y="350" width="4" height="150" fill="url(#connectionGradient2)"/>
  
  <!-- ANP到MCP垂直连接线 -->
  <rect x="398" y="580" width="4" height="100" fill="url(#connectionGradient3)"/>
  <rect x="1198" y="580" width="4" height="100" fill="url(#connectionGradient3)"/>
  
  <!-- MCP到底层资源连接线 -->
  <rect x="398" y="750" width="4" height="110" fill="url(#connectionGradient4)"/>
  <rect x="1198" y="750" width="4" height="110" fill="url(#connectionGradient4)"/>
  
  <!-- 箭头 -->
  <g>
    <!-- Agent间横向协作箭头 -->
    <polygon points="960,284 972,290 960,296" fill="#f5576c"/>
    <polygon points="640,284 628,290 640,296" fill="#f5576c"/>
    
    <!-- Agent到ANP垂直箭头 -->
    <polygon points="394,495 400,507 406,495" fill="#00f2fe"/>
    <polygon points="1194,495 1200,507 1206,495" fill="#00f2fe"/>
    
    <!-- ANP到MCP箭头 -->
    <polygon points="394,675 400,687 406,675" fill="#764ba2"/>
    <polygon points="1194,675 1200,687 1206,675" fill="#764ba2"/>
    
    <!-- MCP到底层资源箭头 -->
    <polygon points="394,855 400,867 406,855" fill="#fed6e3"/>
    <polygon points="1194,855 1200,867 1206,855" fill="#fed6e3"/>

    <!-- 新增：Agent A和Agent B指向ANP网络横向认证的箭头 -->
    <!-- Agent A到ANP网络的连接线 -->
    <line x1="400" y1="350" x2="720" y2="500" stroke="url(#connectionGradient2)" stroke-width="3"/>

    <!-- Agent B到ANP网络的连接线 -->
    <line x1="1200" y1="350" x2="880" y2="500" stroke="url(#connectionGradient2)" stroke-width="3"/>

    <!-- Agent A到ANP网络的箭头头部 -->
    <polygon points="715,495 725,500 715,505" fill="#00f2fe"/>

    <!-- Agent B到ANP网络的箭头头部 -->
    <polygon points="885,495 875,500 885,505" fill="#00f2fe"/>
  </g>
  
  <!-- Agent 节点 -->
  <g font-family="Arial, sans-serif" font-weight="bold" fill="white">
    <rect x="300" y="230" width="200" height="120" rx="15" fill="url(#agentGradient)" stroke="#ff6b6b" stroke-width="3" filter="url(#shadow)"/>
    <text x="400" y="275" text-anchor="middle" font-size="20">Agent A</text>
    <text x="400" y="295" text-anchor="middle" font-size="14" opacity="0.9">AI协作节点</text>
    
    <rect x="1100" y="230" width="200" height="120" rx="15" fill="url(#agentGradient)" stroke="#ff6b6b" stroke-width="3" filter="url(#shadow)"/>
    <text x="1200" y="275" text-anchor="middle" font-size="20">Agent B</text>
    <text x="1200" y="295" text-anchor="middle" font-size="14" opacity="0.9">AI协作节点</text>
  </g>
  
  <!-- A2A横向协作连接 -->
  <rect x="500" y="288" width="600" height="4" fill="url(#connectionGradient1)"/>
  <polygon points="960,284 972,290 960,296" fill="#f5576c"/>
  <polygon points="640,284 628,290 640,296" fill="#f5576c"/>
  
  <!-- ANP 统一网络 (横向和垂直) -->
  <rect x="650" y="500" width="300" height="75" rx="10" fill="url(#anpGradient)" stroke="#5a67d8" stroke-width="2" filter="url(#shadow)"/>
  <text x="800" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">ANP横向可信认证</text>
  <text x="800" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" opacity="0.9">动态可信链路</text>
  
  <!-- ANP垂直连接 -->
  <rect x="320" y="500" width="160" height="80" rx="10" fill="url(#anpGradient)" stroke="#5a67d8" stroke-width="2" filter="url(#shadow)"/>
  <text x="400" y="525" text-anchor="middle" font-size="14" fill="white">ANP垂直</text>
  <text x="400" y="545" text-anchor="middle" font-size="12" opacity="0.9" fill="white">可信链路A</text>
  
  <rect x="1120" y="500" width="160" height="80" rx="10" fill="url(#anpGradient)" stroke="#5a67d8" stroke-width="2" filter="url(#shadow)"/>
  <text x="1200" y="525" text-anchor="middle" font-size="14" fill="white">ANP垂直</text>
  <text x="1200" y="545" text-anchor="middle" font-size="12" opacity="0.9" fill="white">可信链路B</text>
  
  <!-- MCP 资源 -->
  <g font-family="Arial, sans-serif" font-weight="bold" fill="white">
    <rect x="310" y="680" width="180" height="100" rx="12" fill="url(#mcpGradient)" stroke="#0bc5ea" stroke-width="2" filter="url(#shadow)"/>
    <text x="400" y="715" text-anchor="middle" font-size="16">MCP资源A</text>
    <text x="400" y="735" text-anchor="middle" font-size="12" opacity="0.9">可信计算资源</text>
    
    <rect x="1110" y="680" width="180" height="100" rx="12" fill="url(#mcpGradient)" stroke="#0bc5ea" stroke-width="2" filter="url(#shadow)"/>
    <text x="1200" y="715" text-anchor="middle" font-size="16">MCP资源B</text>
    <text x="1200" y="735" text-anchor="middle" font-size="12" opacity="0.9">可信计算资源</text>
  </g>

  <!-- 底层资源 -->
  <g font-family="Arial, sans-serif" font-weight="bold" fill="#2c3e50">
    <rect x="330" y="860" width="140" height="80" rx="10" fill="url(#resourceGradient)" stroke="#48cae4" stroke-width="2" filter="url(#shadow)"/>
    <text x="400" y="885" text-anchor="middle" font-size="14">底层资源A</text>
    <text x="400" y="905" text-anchor="middle" font-size="12" opacity="0.8">基础设施</text>
    
    <rect x="1130" y="860" width="140" height="80" rx="10" fill="url(#resourceGradient)" stroke="#48cae4" stroke-width="2" filter="url(#shadow)"/>
    <text x="1200" y="885" text-anchor="middle" font-size="14">底层资源B</text>
    <text x="1200" y="905" text-anchor="middle" font-size="12" opacity="0.8">基础设施</text>
  </g>
  
  <!-- 标签 -->
  <g font-family="Arial, sans-serif" font-weight="bold">
    <!-- A2A标签 -->
    <rect x="720" y="350" width="160" height="30" rx="8" fill="url(#labelGradient)" filter="url(#shadow)"/>
    <text x="800" y="369" text-anchor="middle" font-size="12" fill="white">A2A横向协作 (OTT传输)</text>
    
    <!-- ANP标签 -->
    <rect x="480" y="600" width="660" height="25" rx="8" fill="url(#anpGradient)" filter="url(#shadow)"/>
    <text x="800" y="616" text-anchor="middle" font-size="12" fill="white">ANP统一网络</text>
    
    <!-- MCP标签 -->
    <rect x="340" y="620" width="120" height="30" rx="8" fill="rgba(255, 255, 255, 0.95)" stroke="#bdc3c7" filter="url(#shadow)"/>
    <text x="400" y="639" text-anchor="middle" font-size="12" fill="#2c3e50">MCP垂直调用</text>
    
    <rect x="1140" y="620" width="120" height="30" rx="8" fill="rgba(255, 255, 255, 0.95)" stroke="#bdc3c7" filter="url(#shadow)"/>
    <text x="1200" y="639" text-anchor="middle" font-size="12" fill="#2c3e50">MCP垂直调用</text>
  </g>
  
  <!-- 说明文字 -->
  <g font-family="Arial, sans-serif" fill="#2c3e50">
    <text x="150" y="1040" font-size="16" font-weight="bold">🤝 A2A横向协作:</text>
    <text x="300" y="1040" font-size="14">Agent A和Agent B通过A2A协议进行横向协作，Task通过OTT传输</text>
    
    <text x="950" y="1040" font-size="16" font-weight="bold">🔌 MCP垂直调用:</text>
    <text x="1100" y="1040" font-size="14">Agent通过MCP协议调用可信计算资源</text>
    
    <text x="150" y="1070" font-size="16" font-weight="bold">🌐 ANP统一网络:</text>
    <text x="300" y="1070" font-size="14">横向为Agent间提供可信认证连接；垂直为资源提供可信链路</text>
  </g>
</svg>