## 导入配置文件和日志

```python

# 创建配置 初始化日志
from anp_foundation.config import UnifiedConfig, set_global_config, get_global_config
from anp_foundation.utils.log_base import setup_logging

app_config = UnifiedConfig(config_file='unified_config_framework_demo.yaml')
set_global_config(app_config)
setup_logging()

# 使用日志
import logging

logger = logging.getLogger(__name__)
```

## Fastapi 服务器导入

```python


    @self.app.middleware("http")
    async def auth_middleware_wrapper(request, call_next):
        return await auth_middleware(request, call_next)
    self.app.include_router(router_did.router)
    self.app.include_router(router_publisher.router)
    self.app.include_router(router_agent.router)

```

## sdk通过python路径动态将sdk子目录加入包搜寻范围
```shell
 PYTHONPATH=$PYTHONPATH:/Users/seanzhang/seanrework/anp-open-sdk/anp-open-sdk-python  python scripts/agent_user_binding.py
```


## 观察agent加载情况
```shell
  curl -X GET "http://localhost:9527/publisher/agents" -H "Content-Type: application/json"

```


## 用curl或者浏览器观察时 注意在unified_config 开启认证豁免
```yaml
auth_middleware:
  exempt_paths:
    - "/docs"
    - "/anp-nlp/"
    - "/ws/"
    - "/did_host/agents"
    - "/agent/group/*"
    - "/redoc"
    - "/openapi.json"
    - "/wba/hostuser/*"
    - "/wba/user/*"
    - "/"
    - "/favicon.ico"
    - "/agents/example/ad.json"
    - "/wba/auth"
    - "/wba/hosted-did/*"
    - "/publisher/agents"
    - "/agent/api/*"


```

## vscode 增加自定义python包目录
settings.json
```json
"python.analysis.extraPaths": [
    "/你的/自定义/python路径",
    "./src"
]
```
## pycharm 增加自定义python包目录
project 选中目录 右键 将目录标记为 源代码根目录
