# ANP Node.js SDK å®Œæ•´å®ç°è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºANPåº”ç”¨å¼€å‘æŒ‡å—ä¸­çš„åˆ†å±‚æ¶æ„ï¼Œå®Œå–„Node.jsç‰ˆæœ¬çš„ANP SDKï¼Œå®ç°ä¸Pythonç‰ˆæœ¬åŠŸèƒ½å¯¹ç­‰çš„å®Œæ•´DIDè®¤è¯å’ŒAgentç®¡ç†ç³»ç»Ÿã€‚

## ğŸ—ï¸ æ¶æ„å¯¹æ¯”åˆ†æ

### å½“å‰æ¶æ„çŠ¶æ€å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚    â”‚   anp_servicepointâ”‚   anp_runtime   â”‚    â”‚                     â”‚
â”‚                     â”‚    â”‚     (æœåŠ¡å¤„ç†)     â”‚   (Agentè¿è¡Œæ—¶)  â”‚    â”‚   åº”ç”¨å±‚             â”‚
â”‚     anp_server      â”‚    â”‚                  â”‚                 â”‚    â”‚                     â”‚
â”‚     (æœåŠ¡å™¨)         â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚    Agent            â”‚
â”‚                     â”‚    â”‚       anp_foundation               â”‚    â”‚                     â”‚
â”‚                     â”‚    â”‚         (åŸºç¡€è®¾æ–½)                  â”‚    â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| å±‚çº§ | Pythonç‰ˆæœ¬çŠ¶æ€ | Node.jsç‰ˆæœ¬çŠ¶æ€ | å®Œæˆåº¦ | å…³é”®ç¼ºå¤± |
|------|---------------|----------------|--------|----------|
| **åº”ç”¨å±‚ (Agent)** | âœ… å®Œæ•´ | âœ… åŸºæœ¬å®Œæ•´ | 85% | ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€é…ç½®æ¨¡å¼ |
| **anp_runtime** | âœ… å®Œæ•´ | âš ï¸ éƒ¨åˆ†å®ç° | 45% | **Agenté—´é€šä¿¡ã€æœ¬åœ°æ–¹æ³•è°ƒç”¨ã€ç¾¤ç»„ç®¡ç†ã€æ¶ˆæ¯è·¯ç”±** |
| **anp_servicepoint** | âœ… å®Œæ•´ | âš ï¸ éƒ¨åˆ†å®ç° | 60% | è®¤è¯ä¸­é—´ä»¶ã€æœåŠ¡å¤„ç†å™¨ |
| **anp_server** | âœ… å®Œæ•´ | âš ï¸ éƒ¨åˆ†å®ç° | 65% | **æ ‡å‡†è·¯ç”±ã€ä¸­é—´ä»¶é›†æˆã€å¤šåŸŸåæ”¯æŒ** |
| **anp_foundation** | âœ… å®Œæ•´ | âŒ ä¸¥é‡ç¼ºå¤± | 25% | **æœ¬åœ°æ•°æ®ç®¡ç†ã€åŸŸåç®¡ç†ã€è”ç³»äººç®¡ç†** |
| **data_user** | âœ… å®Œæ•´ | âŒ å®Œå…¨ç¼ºå¤± | 0% | **ç”¨æˆ·æ•°æ®å­˜å‚¨å’Œç®¡ç†** |

## ğŸ¯ å®æ–½è®¡åˆ’

### é˜¶æ®µä¸€ï¼šFoundationå±‚å®Œå–„ (ä¼˜å…ˆçº§ï¼šğŸ”¥ğŸ”¥ğŸ”¥)

#### 1.1 æœ¬åœ°ç”¨æˆ·æ•°æ®ç®¡ç†å™¨å®ç°
**ç›®æ ‡**: å®ç°ç±»ä¼¼Pythonç‰ˆæœ¬çš„`LocalUserDataManager`

**å½“å‰çŠ¶æ€**: Node.jsç‰ˆæœ¬åªæœ‰åŸºç¡€çš„`ANPUser`ç±»ï¼Œå®Œå…¨ç¼ºå°‘ç”¨æˆ·æ•°æ®ç®¡ç†å™¨

**æ–‡ä»¶**: `src/foundation/user/local-user-data-manager.ts` (å®Œå…¨ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **ç”¨æˆ·æ•°æ®æ‰«æå’Œç´¢å¼•**: æ‰«æ`data_user`ç›®å½•ï¼Œå»ºç«‹DIDå’Œåç§°ç´¢å¼•
- [ ] **å¤šåŸŸåç”¨æˆ·ç®¡ç†**: æŒ‰åŸŸåç«¯å£åˆ†ç»„ç®¡ç†ç”¨æˆ·ï¼Œæ£€æµ‹ç”¨æˆ·åå†²çª
- [ ] **å¯†é’¥æ–‡ä»¶ç®¡ç†**: è‡ªåŠ¨åŠ è½½å¯†é’¥æ–‡ä»¶åˆ°å†…å­˜ï¼Œæ”¯æŒDIDå’ŒJWTå¯†é’¥
- [ ] **æ‰˜ç®¡DIDæ”¯æŒ**: åˆ›å»ºå’Œç®¡ç†æ‰˜ç®¡DIDç”¨æˆ·
- [ ] **åŠ¨æ€ç”¨æˆ·åŠ è½½**: æ”¯æŒè¿è¡Œæ—¶æ‰«æå’ŒåŠ è½½æ–°ç”¨æˆ·
- [ ] **ç”¨æˆ·å†²çªæ£€æµ‹**: æ£€æµ‹å’Œè§£å†³ç”¨æˆ·åå†²çª

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
class LocalUserDataManager:
    def load_all_users(self)  # æ‰«æå¹¶åŠ è½½æ‰€æœ‰ç”¨æˆ·
    def get_user_data(self, did: str) -> Optional[LocalUserData]  # é€šè¿‡DIDè·å–ç”¨æˆ·
    def create_hosted_user(self, parent_user_data, host, port, did_document)  # åˆ›å»ºæ‰˜ç®¡ç”¨æˆ·
    def scan_and_load_new_users(self)  # æ‰«ææ–°ç”¨æˆ·
    def is_username_taken(self, name: str, host: str, port: int) -> bool  # æ£€æŸ¥ç”¨æˆ·åå†²çª
```

**Node.jså®ç°ç»“æ„**:
```typescript
export class LocalUserDataManager {
  private static instance: LocalUserDataManager;
  private usersByDid: Map<string, LocalUserData> = new Map();
  private usersByName: Map<string, LocalUserData> = new Map();
  private usersByHostPort: Map<string, Map<string, LocalUserData>> = new Map();
  private conflictingUsers: ConflictInfo[] = [];
  
  public async loadAllUsers(): Promise<void>
  public getUserData(did: string): LocalUserData | undefined
  public async createDidUser(userInput: CreateUserInput): Promise<DIDDocument | null>
  public async createHostedUser(parentUser: LocalUserData, host: string, port: string): Promise<LocalUserData | null>
  public async scanAndLoadNewUsers(): Promise<void>
  public isUsernameTaken(name: string, host: string, port: number): boolean
  public resolveUsernameConflict(did: string, newName: string): boolean
}
```

#### 1.2 æœ¬åœ°ç”¨æˆ·æ•°æ®ç±»å®ç°
**ç›®æ ‡**: å®ç°å®Œæ•´çš„`LocalUserData`ç±»

**å½“å‰çŠ¶æ€**: åŸºç¡€`ANPUser`å­˜åœ¨ï¼Œä½†ç¼ºå°‘å¤§é‡åŠŸèƒ½

**æ–‡ä»¶**: `src/foundation/user/local-user-data.ts` (éœ€è¦é‡æ„)

**å·²æœ‰åŠŸèƒ½**:
- âœ… åŸºç¡€ç”¨æˆ·æ•°æ®ç»“æ„
- âœ… DIDå’Œåç§°å±æ€§
- âœ… æ–‡ä»¶è·¯å¾„ç®¡ç†

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **å¯†é’¥å†…å­˜ç¼“å­˜**: è‡ªåŠ¨åŠ è½½å¯†é’¥æ–‡ä»¶åˆ°å†…å­˜å¯¹è±¡
- [ ] **è”ç³»äººç®¡ç†**: è”ç³»äººæ·»åŠ ã€è·å–ã€åˆ—è¡¨åŠŸèƒ½
- [ ] **Tokenç®¡ç†**: è¿œç¨‹Tokençš„å­˜å‚¨å’Œç®¡ç†
- [ ] **æ‰˜ç®¡DIDä¿¡æ¯**: æ‰˜ç®¡DIDçš„ç‰¹æ®Šå±æ€§å’Œæ–¹æ³•
- [ ] **å¯†é’¥æ–‡ä»¶æ“ä½œ**: å¯†é’¥æ–‡ä»¶çš„åŠ è½½å’ŒéªŒè¯

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
class LocalUserData:
    def _load_keys_to_memory(self)  # åŠ è½½å¯†é’¥åˆ°å†…å­˜
    def get_token_to_remote(self, remote_did: str)  # è·å–å‘é€ç»™è¿œç¨‹çš„Token
    def store_token_to_remote(self, remote_did: str, token: str, expires_delta: int)  # å­˜å‚¨Token
    def add_contact(self, contact: Dict[str, Any])  # æ·»åŠ è”ç³»äºº
    def get_contact(self, remote_did: str)  # è·å–è”ç³»äºº
    def list_contacts(self)  # åˆ—å‡ºæ‰€æœ‰è”ç³»äºº
```

#### 1.3 åŸŸåç®¡ç†å™¨å®ç°
**ç›®æ ‡**: å®ç°å¤šåŸŸåç¯å¢ƒæ”¯æŒ

**å½“å‰çŠ¶æ€**: å®Œå…¨ç¼ºå¤±

**æ–‡ä»¶**: `src/foundation/domain/domain-manager.ts` (å®Œå…¨ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **åŸŸåè§£æ**: ä»HTTPè¯·æ±‚ä¸­è§£æåŸŸåå’Œç«¯å£
- [ ] **åŸŸåéªŒè¯**: éªŒè¯åŸŸåè®¿é—®æƒé™
- [ ] **æ•°æ®è·¯å¾„ç®¡ç†**: ä¸ºä¸åŒåŸŸååˆ†é…æ•°æ®è·¯å¾„
- [ ] **ç›®å½•ç»“æ„ç®¡ç†**: ç¡®ä¿åŸŸåå¯¹åº”çš„ç›®å½•ç»“æ„å­˜åœ¨
- [ ] **é…ç½®ç®¡ç†**: æ”¯æŒçš„åŸŸåé…ç½®å’Œç®¡ç†

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
class DomainManager:
    def parse_host_header(self, host_header: str) -> Tuple[str, int]  # è§£æHostå¤´
    def get_all_data_paths(self, domain: str, port: int) -> Dict[str, Path]  # è·å–æ•°æ®è·¯å¾„
    def ensure_domain_directories(self, domain: str, port: int) -> bool  # ç¡®ä¿ç›®å½•å­˜åœ¨
    def validate_domain_access(self, domain: str, port: int) -> Tuple[bool, str]  # éªŒè¯è®¿é—®æƒé™
    def get_host_port_from_request(self, request) -> Tuple[str, int]  # ä»è¯·æ±‚è·å–åŸŸåç«¯å£
```

#### 1.4 è”ç³»äººç®¡ç†å™¨å®ç°
**ç›®æ ‡**: å®ç°è”ç³»äººç®¡ç†åŠŸèƒ½

**å½“å‰çŠ¶æ€**: å®Œå…¨ç¼ºå¤±

**æ–‡ä»¶**: `src/foundation/user/contact-manager.ts` (å®Œå…¨ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **è”ç³»äººå­˜å‚¨**: è”ç³»äººä¿¡æ¯çš„æŒä¹…åŒ–å­˜å‚¨
- [ ] **è”ç³»äººæœç´¢**: æŒ‰DIDã€åç§°æœç´¢è”ç³»äºº
- [ ] **è”ç³»äººåˆ†ç»„**: è”ç³»äººçš„åˆ†ç»„ç®¡ç†
- [ ] **è”ç³»äººåŒæ­¥**: è”ç³»äººä¿¡æ¯çš„åŒæ­¥å’Œæ›´æ–°

#### 1.5 ç”¨æˆ·æ•°æ®ç›®å½•ç»“æ„åˆ›å»º
**ç›®æ ‡**: å»ºç«‹æ ‡å‡†çš„ç”¨æˆ·æ•°æ®å­˜å‚¨ç»“æ„

**å½“å‰çŠ¶æ€**: ç›®å½•ç»“æ„ä¸å­˜åœ¨

**ä»»åŠ¡**:
- [ ] **åˆ›å»º`data_user`ç›®å½•ç»“æ„**: å»ºç«‹æ ‡å‡†çš„å¤šåŸŸåç›®å½•ç»“æ„
- [ ] **å®ç°ç”¨æˆ·ç›®å½•æ‰«æé€»è¾‘**: æ‰«æå’Œè¯†åˆ«ç”¨æˆ·ç›®å½•
- [ ] **å»ºç«‹æ–‡ä»¶å‘½åè§„èŒƒ**: ç»Ÿä¸€çš„æ–‡ä»¶å‘½åå’Œç»„ç»‡è§„èŒƒ
- [ ] **å®ç°æ•°æ®æŒä¹…åŒ–æœºåˆ¶**: ç”¨æˆ·æ•°æ®çš„ä¿å­˜å’ŒåŠ è½½

**ç›®å½•ç»“æ„**:
```
data_user/
â”œâ”€â”€ localhost_9527/
â”‚   â”œâ”€â”€ anp_users/
â”‚   â”‚   â””â”€â”€ user_[unique_id]/
â”‚   â”‚       â”œâ”€â”€ did_document.json
â”‚   â”‚       â”œâ”€â”€ agent_cfg.yaml
â”‚   â”‚       â”œâ”€â”€ key-1_private.pem
â”‚   â”‚       â”œâ”€â”€ key-1_public.pem
â”‚   â”‚       â”œâ”€â”€ private_key.pem
â”‚   â”‚       â”œâ”€â”€ public_key.pem
â”‚   â”‚       â”œâ”€â”€ ad.json
â”‚   â”‚       â”œâ”€â”€ api_interface.yaml
â”‚   â”‚       â””â”€â”€ api_interface.json
â”‚   â”œâ”€â”€ anp_users_hosted/
â”‚   â”œâ”€â”€ agents_config/
â”‚   â”œâ”€â”€ hosted_did_queue/
â”‚   â””â”€â”€ hosted_did_results/
â””â”€â”€ user_localhost_9527/
    â”œâ”€â”€ anp_users/
    â””â”€â”€ anp_users_hosted/
```

#### 1.6 DIDåˆ›å»ºå’Œç®¡ç†å·¥å…·
**ç›®æ ‡**: å®ç°ç”¨æˆ·DIDåˆ›å»ºå·¥å…·

**å½“å‰çŠ¶æ€**: åŸºç¡€DIDå·¥å…·å­˜åœ¨ï¼Œä½†ç¼ºå°‘ç”¨æˆ·åˆ›å»ºåŠŸèƒ½

**æ–‡ä»¶**: `src/foundation/user/did-user-creator.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **DIDæ–‡æ¡£ç”Ÿæˆ**: æ ‡å‡†DIDæ–‡æ¡£çš„ç”Ÿæˆ
- [ ] **å¯†é’¥å¯¹ç”Ÿæˆå’Œå­˜å‚¨**: ECDSAå’ŒRSAå¯†é’¥å¯¹çš„ç”Ÿæˆ
- [ ] **ç”¨æˆ·é…ç½®æ–‡ä»¶åˆ›å»º**: agent_cfg.yamlçš„ç”Ÿæˆ
- [ ] **å”¯ä¸€æ€§æ£€æŸ¥**: DIDå’Œç”¨æˆ·åçš„å”¯ä¸€æ€§éªŒè¯
- [ ] **ç›®å½•ç»“æ„åˆ›å»º**: ç”¨æˆ·ç›®å½•å’Œæ–‡ä»¶çš„åˆ›å»º

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
def create_did_user(user_input: dict, *, did_hex: bool = True, did_check_unique: bool = True):
    # ç”Ÿæˆå”¯ä¸€IDå’ŒDID
    # åˆ›å»ºDIDæ–‡æ¡£å’Œå¯†é’¥å¯¹
    # ä¿å­˜ç”¨æˆ·é…ç½®æ–‡ä»¶
    # åŠ è½½åˆ°ç”¨æˆ·ç®¡ç†å™¨
```

#### 1.7 è®¤è¯å¢å¼º
**ç›®æ ‡**: å¢å¼ºç°æœ‰çš„è®¤è¯åŠŸèƒ½

**å½“å‰çŠ¶æ€**: åŸºç¡€è®¤è¯åŠŸèƒ½å­˜åœ¨ï¼Œä½†ç¼ºå°‘ä¸ç”¨æˆ·æ•°æ®çš„é›†æˆ

**æ–‡ä»¶**: `src/foundation/auth/auth.ts` (éœ€è¦å¢å¼º)

**éœ€è¦å¢å¼ºçš„åŠŸèƒ½**:
- [ ] **ä¸LocalUserDataManageré›†æˆ**: è®¤è¯æ—¶æŸ¥è¯¢æœ¬åœ°ç”¨æˆ·æ•°æ®
- [ ] **å¯†é’¥ç¼“å­˜åˆ©ç”¨**: åˆ©ç”¨å†…å­˜ä¸­çš„å¯†é’¥è¿›è¡ŒéªŒè¯
- [ ] **æ‰˜ç®¡DIDè®¤è¯**: æ”¯æŒæ‰˜ç®¡DIDçš„è®¤è¯é€»è¾‘
- [ ] **å¤šåŸŸåè®¤è¯**: æ”¯æŒå¤šåŸŸåç¯å¢ƒä¸‹çš„è®¤è¯

#### 1.8 é…ç½®ç³»ç»Ÿå¢å¼º
**ç›®æ ‡**: å¢å¼ºé…ç½®ç®¡ç†åŠŸèƒ½

**å½“å‰çŠ¶æ€**: åŸºç¡€é…ç½®ç³»ç»Ÿå­˜åœ¨

**æ–‡ä»¶**: `src/foundation/config/manager.ts` (éœ€è¦å¢å¼º)

**éœ€è¦å¢å¼ºçš„åŠŸèƒ½**:
- [ ] **è·¯å¾„è§£æ**: æ”¯æŒ`{APP_ROOT}`ç­‰è·¯å¾„å˜é‡
- [ ] **å¤šåŸŸåé…ç½®**: æ”¯æŒå¤šåŸŸåçš„é…ç½®ç®¡ç†
- [ ] **åŠ¨æ€é…ç½®**: æ”¯æŒè¿è¡Œæ—¶é…ç½®æ›´æ–°

### é˜¶æ®µäºŒï¼šServicePointå±‚å®Œå–„ (ä¼˜å…ˆçº§ï¼šğŸ”¥ğŸ”¥)

#### 2.1 è®¤è¯ä¸­é—´ä»¶å®Œå–„
**ç›®æ ‡**: å®ç°å®Œæ•´çš„DIDè®¤è¯ä¸­é—´ä»¶

**å½“å‰çŠ¶æ€**: åŸºç¡€å®ç°å­˜åœ¨ï¼Œä½†ç¼ºå°‘ä¸Foundationå±‚çš„é›†æˆ

**æ–‡ä»¶**: `src/servicepoint/middleware/auth-middleware.ts` (éœ€è¦å¢å¼º)

**å·²æœ‰åŠŸèƒ½**:
- âœ… åŸºç¡€è®¤è¯ä¸­é—´ä»¶æ¡†æ¶
- âœ… è®¤è¯è±å…è·¯å¾„å¤„ç†
- âœ… CORSå’Œæ—¥å¿—ä¸­é—´ä»¶

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **ä¸LocalUserDataManageré›†æˆ**: éªŒè¯DIDæ—¶æŸ¥è¯¢æœ¬åœ°ç”¨æˆ·æ•°æ®
- [ ] **DIDæ–‡æ¡£éªŒè¯**: éªŒè¯DIDæ–‡æ¡£çš„æœ‰æ•ˆæ€§
- [ ] **ç­¾åéªŒè¯å¢å¼º**: æ›´å®Œæ•´çš„ç­¾åéªŒè¯é€»è¾‘
- [ ] **å¤šåŸŸåæ”¯æŒ**: æ”¯æŒå¤šåŸŸåç¯å¢ƒä¸‹çš„è®¤è¯

#### 2.2 æ ¸å¿ƒæœåŠ¡å¤„ç†å™¨å®ç°
**ç›®æ ‡**: å®ç°å®Œæ•´çš„DIDå’ŒAgentæœåŠ¡å¤„ç†å™¨

**å½“å‰çŠ¶æ€**: åŸºç¡€AgentæœåŠ¡å¤„ç†å™¨å­˜åœ¨ï¼Œä½†ç¼ºå°‘DIDæœåŠ¡å¤„ç†å™¨

**æ–‡ä»¶**: 
- `src/servicepoint/handlers/did-service-handler.ts` (ç¼ºå¤±)
- `src/servicepoint/handlers/agent-service-handler.ts` (éœ€è¦å¢å¼º)
- `src/servicepoint/handlers/publisher-service-handler.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **DIDæ–‡æ¡£æœåŠ¡**: è·å–å’ŒéªŒè¯DIDæ–‡æ¡£
- [ ] **Agentæè¿°æœåŠ¡**: è·å–Agentçš„ad.jsonæè¿°æ–‡ä»¶
- [ ] **OpenAPIæ–‡æ¡£æœåŠ¡**: è·å–Agentçš„YAML/JSONæ¥å£æ–‡æ¡£
- [ ] **å¤šåŸŸåè·¯å¾„è§£æ**: æ”¯æŒå¤šåŸŸåç¯å¢ƒä¸‹çš„è·¯å¾„è§£æ
- [ ] **å‘å¸ƒè€…æœåŠ¡**: Agentä¿¡æ¯å‘å¸ƒå’Œå‘ç°

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
# DIDæœåŠ¡å¤„ç†å™¨
def get_did_document(user_id: str, host: str, port: int) -> Tuple[bool, Union[Dict, str]]
def get_agent_description(user_id: str, host: str, port: int) -> Tuple[bool, Union[Dict, str]]
def get_agent_yaml_file(resp_did: str, yaml_file_name: str, host: str, port: int)
```

#### 2.3 æ‰©å±•æœåŠ¡å¤„ç†å™¨å®ç°
**ç›®æ ‡**: å®ç°æ‰˜ç®¡DIDå’Œè®¤è¯æœåŠ¡å¤„ç†å™¨

**å½“å‰çŠ¶æ€**: å®Œå…¨ç¼ºå¤±

**æ–‡ä»¶**: 
- `src/servicepoint/handlers/host-service-handler.ts` (ç¼ºå¤±)
- `src/servicepoint/handlers/auth-service-handler.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **æ‰˜ç®¡DIDç”³è¯·**: å¤„ç†æ‰˜ç®¡DIDç”³è¯·è¯·æ±‚
- [ ] **æ‰˜ç®¡DIDçŠ¶æ€æŸ¥è¯¢**: æŸ¥è¯¢ç”³è¯·çŠ¶æ€å’Œç»“æœ
- [ ] **æ‰˜ç®¡DIDç®¡ç†**: åˆ—å‡ºå’Œç®¡ç†æ‰˜ç®¡DID
- [ ] **è®¤è¯æœåŠ¡**: æä¾›è®¤è¯ç›¸å…³çš„æœåŠ¡ç«¯ç‚¹

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
# æ‰˜ç®¡DIDæœåŠ¡
async def submit_hosted_did_request(hosted_request: BaseHostedDIDRequest, host: str, port: int)
async def check_hosted_did_status(request_id: str, host: str, port: int)
async def list_hosted_dids(host: str, port: int)
```

#### 2.4 æœåŠ¡å®ç°å±‚
**ç›®æ ‡**: å®ç°æ‰˜ç®¡DIDçš„å…·ä½“å®ç°é€»è¾‘

**å½“å‰çŠ¶æ€**: å®Œå…¨ç¼ºå¤±

**æ–‡ä»¶**: 
- `src/servicepoint/implementations/did-host/` (æ•´ä¸ªç›®å½•ç¼ºå¤±)
  - `did-host-manager.ts`
  - `hosted-did-processor.ts`
  - `hosted-did-queue-manager.ts`
  - `hosted-did-result-manager.ts`

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **æ‰˜ç®¡DIDé˜Ÿåˆ—ç®¡ç†**: ç”³è¯·é˜Ÿåˆ—çš„ç®¡ç†å’Œå¤„ç†
- [ ] **æ‰˜ç®¡DIDå¤„ç†å™¨**: å®é™…çš„DIDåˆ›å»ºå’Œå¤„ç†é€»è¾‘
- [ ] **ç»“æœç®¡ç†**: å¤„ç†ç»“æœçš„å­˜å‚¨å’ŒæŸ¥è¯¢
- [ ] **åŸŸåç®¡ç†é›†æˆ**: ä¸åŸŸåç®¡ç†å™¨çš„é›†æˆ

#### 2.5 è®¤è¯è±å…å¤„ç†å™¨
**ç›®æ ‡**: å®Œå–„è®¤è¯è±å…é€»è¾‘

**å½“å‰çŠ¶æ€**: åŸºç¡€å®ç°å­˜åœ¨ï¼Œä½†åŠŸèƒ½ä¸å®Œæ•´

**æ–‡ä»¶**: `src/servicepoint/auth-exempt-handler.ts` (éœ€è¦ç‹¬ç«‹å‡ºæ¥)

**éœ€è¦å¢å¼ºçš„åŠŸèƒ½**:
- [ ] **åŠ¨æ€è±å…è§„åˆ™**: æ”¯æŒåŠ¨æ€æ·»åŠ è±å…è§„åˆ™
- [ ] **è·¯å¾„æ¨¡å¼åŒ¹é…**: æ›´å¤æ‚çš„è·¯å¾„åŒ¹é…é€»è¾‘
- [ ] **æ¡ä»¶è±å…**: åŸºäºæ¡ä»¶çš„è±å…é€»è¾‘

### é˜¶æ®µä¸‰ï¼šRuntimeå±‚å¢å¼º (ä¼˜å…ˆçº§ï¼šğŸ”¥)

#### 3.1 Agenté—´é€šä¿¡å®ç°
**ç›®æ ‡**: å®ç°å®Œæ•´çš„Agenté—´é€šä¿¡æœºåˆ¶

**å½“å‰çŠ¶æ€**: Node.jsç‰ˆæœ¬åªæœ‰åŸºç¡€çš„`AgentApiCaller`ï¼Œç¼ºå°‘æ ‡å‡†åŒ–çš„APIè°ƒç”¨æ¥å£

**æ–‡ä»¶**: 
- `src/runtime/services/agent-api-caller.ts` (éœ€è¦é‡æ„)
- `src/runtime/services/agent-message-service.ts` (ç¼ºå¤±)
- `src/runtime/services/agent-api-call.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **æ ‡å‡†åŒ–APIè°ƒç”¨å‡½æ•°**: ç±»ä¼¼Pythonçš„`agent_api_call_post`ã€`agent_api_call_get`
- [ ] **æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿ**: ç±»ä¼¼Pythonçš„`agent_msg_post`
- [ ] **å“åº”å¤„ç†æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„å“åº”æ ¼å¼å¤„ç†
- [ ] **DIDè·¯å¾„ç¼–ç **: URLç¼–ç å’Œè·¯å¾„æ„å»º
- [ ] **è®¤è¯é›†æˆ**: ä¸Foundationå±‚çš„è®¤è¯ç³»ç»Ÿé›†æˆ

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
# æ ‡å‡†åŒ–çš„APIè°ƒç”¨æ¥å£
async def agent_api_call_post(caller_agent: str, target_agent: str, api_path: str, params: Dict) -> Dict
async def agent_msg_post(caller_agent: str, target_agent: str, content: str, message_type: str = "text")
```

#### 3.2 æœ¬åœ°æ–¹æ³•è°ƒç”¨ç³»ç»Ÿ
**ç›®æ ‡**: å®ç°æœ¬åœ°æ–¹æ³•æ³¨å†Œå’Œè°ƒç”¨

**å½“å‰çŠ¶æ€**: å®Œå…¨ç¼ºå¤±

**æ–‡ä»¶**: 
- `src/runtime/local-service/local-methods-caller.ts` (ç¼ºå¤±)
- `src/runtime/local-service/local-methods-decorators.ts` (ç¼ºå¤±)
- `src/runtime/local-service/local-methods-doc.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **æœ¬åœ°æ–¹æ³•æ³¨å†Œè¡¨**: å…¨å±€æ–¹æ³•æ³¨å†Œå’Œç´¢å¼•
- [ ] **è£…é¥°å™¨æ”¯æŒ**: `@local_method`è£…é¥°å™¨
- [ ] **æ–¹æ³•æœç´¢å’Œè°ƒç”¨**: é€šè¿‡å…³é”®è¯æœç´¢å’Œè°ƒç”¨æ–¹æ³•
- [ ] **æ–‡æ¡£ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆæ–¹æ³•æ–‡æ¡£
- [ ] **å‚æ•°éªŒè¯**: æ–¹æ³•å‚æ•°ç±»å‹æ£€æŸ¥

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
@local_method("calculator.add")
async def local_add(a: float, b: float):
    return {"result": a + b}

# è°ƒç”¨æœ¬åœ°æ–¹æ³•
result = await call_local_method("calculator.add", {"a": 10, "b": 20})
```

#### 3.3 å…¨å±€æ¶ˆæ¯è·¯ç”±ç³»ç»Ÿ
**ç›®æ ‡**: å®ç°å…¨å±€æ¶ˆæ¯å¤„ç†å’Œç¾¤ç»„ç®¡ç†

**å½“å‰çŠ¶æ€**: å®Œå…¨ç¼ºå¤±

**æ–‡ä»¶**: 
- `src/runtime/core/global-message-manager.ts` (ç¼ºå¤±)
- `src/runtime/core/global-group-manager.ts` (ç¼ºå¤±)
- `src/runtime/services/group-member-sdk.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **å…¨å±€æ¶ˆæ¯è·¯ç”±**: æ¶ˆæ¯å¤„ç†å™¨æ³¨å†Œå’Œè·¯ç”±
- [ ] **ç¾¤ç»„ç®¡ç†**: ç¾¤ç»„åˆ›å»ºã€åŠ å…¥ã€ç¦»å¼€
- [ ] **ç¾¤ç»„æ¶ˆæ¯**: ç¾¤ç»„å†…æ¶ˆæ¯å¹¿æ’­å’Œå¤„ç†
- [ ] **SSEæ”¯æŒ**: æœåŠ¡å™¨å‘é€äº‹ä»¶æµ
- [ ] **å†²çªæ£€æµ‹**: æ¶ˆæ¯å¤„ç†å™¨å†²çªæ£€æµ‹å’Œè§£å†³

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
class GlobalMessageManager:
    def register_handler(cls, did: str, msg_type: str, handler: Callable, agent_name: str)
    def get_handler(cls, did: str, msg_type: str) -> Optional[Callable]

class GlobalGroupManager:
    def register_runner(cls, group_id: str, runner_class: type)
    def get_runner(cls, group_id: str) -> Optional[GroupRunner]
```

#### 3.4 Agentç”Ÿå‘½å‘¨æœŸç®¡ç†
**ç›®æ ‡**: å®ç°Agentç”Ÿå‘½å‘¨æœŸç®¡ç†

**å½“å‰çŠ¶æ€**: åŸºç¡€Agentç±»å­˜åœ¨ï¼Œä½†ç¼ºå°‘ç”Ÿå‘½å‘¨æœŸé’©å­

**æ–‡ä»¶**: `src/runtime/core/agent-lifecycle.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **åˆå§‹åŒ–é’©å­**: `initialize_agent`å‡½æ•°æ”¯æŒ
- [ ] **æ¸…ç†é’©å­**: `cleanup_agent`å‡½æ•°æ”¯æŒ
- [ ] **èµ„æºç®¡ç†**: è‡ªåŠ¨èµ„æºåˆ†é…å’Œé‡Šæ”¾
- [ ] **é”™è¯¯æ¢å¤**: åˆå§‹åŒ–å¤±è´¥æ—¶çš„æ¢å¤æœºåˆ¶

#### 3.5 å·¥å…·å‡½æ•°å’Œå®ç”¨ç¨‹åº
**ç›®æ ‡**: å®ç°è¿è¡Œæ—¶å·¥å…·å‡½æ•°

**å½“å‰çŠ¶æ€**: éƒ¨åˆ†ç¼ºå¤±

**æ–‡ä»¶**: 
- `src/runtime/services/anp-tool.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **ä¸šåŠ¡å¤„ç†å™¨åŒ…è£…**: `wrap_business_handler`
- [ ] **å‚æ•°è‡ªåŠ¨æå–**: `auto_wrap`åŠŸèƒ½å¢å¼º
- [ ] **é”™è¯¯å¤„ç†æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æ¨¡å¼
- [ ] **å“åº”æ ¼å¼åŒ–**: æ ‡å‡†åŒ–çš„å“åº”æ ¼å¼

### é˜¶æ®µå››ï¼šServerå±‚å®Œå–„ (ä¼˜å…ˆçº§ï¼šğŸ”¥)

#### 4.1 æ ‡å‡†è·¯ç”±å®ç°
**ç›®æ ‡**: å®ç°ç¬¦åˆANPåè®®çš„æ ‡å‡†è·¯ç”±

**å½“å‰çŠ¶æ€**: åŸºç¡€è·¯ç”±å­˜åœ¨ï¼Œä½†ç¼ºå°‘æ ‡å‡†ANPè·¯ç”±ç»“æ„

**æ–‡ä»¶**: 
- `src/server/routers/anp-routers.ts` (éœ€è¦é‡æ„)
- `src/server/routers/did-router.ts` (ç¼ºå¤±)
- `src/server/routers/agent-router.ts` (ç¼ºå¤±)
- `src/server/routers/host-router.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **æ ‡å‡†DIDè·¯ç”±**: `/wba/user/{user_id}/did.json`ã€`/wba/user/{user_id}/ad.json`
- [ ] **Agent APIè·¯ç”±**: `/agent/api/{did}/{endpoint}`æ ‡å‡†æ ¼å¼
- [ ] **æ‰˜ç®¡DIDè·¯ç”±**: æ‰˜ç®¡DIDç”³è¯·å’ŒæŸ¥è¯¢è·¯ç”±
- [ ] **ç¾¤ç»„è·¯ç”±**: ç¾¤ç»„ç®¡ç†å’Œæ¶ˆæ¯è·¯ç”±
- [ ] **å‘å¸ƒè€…è·¯ç”±**: Agentä¿¡æ¯å‘å¸ƒè·¯ç”±

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
# æ ‡å‡†DIDè·¯ç”±
@router.get("/wba/user/{user_id}/did.json")
@router.get("/wba/user/{user_id}/ad.json")
@router.get("/wba/user/{resp_did}/{yaml_file_name}.yaml")

# Agent APIè·¯ç”±
@router.all("/agent/api/{did}/{endpoint:path}")
```

#### 4.2 ä¸­é—´ä»¶é›†æˆå®Œå–„
**ç›®æ ‡**: å®Œå–„æœåŠ¡å™¨ä¸­é—´ä»¶é›†æˆ

**å½“å‰çŠ¶æ€**: åŸºç¡€ä¸­é—´ä»¶é›†æˆå­˜åœ¨ï¼Œä½†ç¼ºå°‘å®Œæ•´çš„ä¸­é—´ä»¶é“¾

**æ–‡ä»¶**: `src/server/express/anp-server.ts` (éœ€è¦å¢å¼º)

**å·²æœ‰åŠŸèƒ½**:
- âœ… åŸºç¡€ExpressæœåŠ¡å™¨
- âœ… ç®€å•çš„è®¤è¯ä¸­é—´ä»¶é›†æˆ
- âœ… åŸºç¡€è·¯ç”±å¤„ç†

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **å®Œæ•´çš„ä¸­é—´ä»¶é“¾**: è¯·æ±‚å¤„ç†ã€è®¤è¯ã€æ—¥å¿—ã€é”™è¯¯å¤„ç†
- [ ] **åŸŸåç®¡ç†é›†æˆ**: å¤šåŸŸåç¯å¢ƒæ”¯æŒ
- [ ] **è¯·æ±‚ä¸Šä¸‹æ–‡ç®¡ç†**: è¯·æ±‚ä¸Šä¸‹æ–‡çš„ä¼ é€’å’Œç®¡ç†
- [ ] **æ€§èƒ½ç›‘æ§**: è¯·æ±‚æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡

#### 4.3 å¤šåŸŸåæ”¯æŒ
**ç›®æ ‡**: å®ç°å¤šåŸŸåç¯å¢ƒæ”¯æŒ

**å½“å‰çŠ¶æ€**: ä¸æ”¯æŒå¤šåŸŸå

**æ–‡ä»¶**: 
- `src/server/middleware/domain-middleware.ts` (ç¼ºå¤±)
- `src/server/utils/domain-resolver.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **åŸŸåè§£æ**: ä»è¯·æ±‚ä¸­è§£æåŸŸåå’Œç«¯å£
- [ ] **åŸŸåéªŒè¯**: éªŒè¯åŸŸåè®¿é—®æƒé™
- [ ] **è·¯å¾„æ˜ å°„**: åŸºäºåŸŸåçš„è·¯å¾„æ˜ å°„
- [ ] **é…ç½®ç®¡ç†**: å¤šåŸŸåé…ç½®ç®¡ç†

**Pythonç‰ˆæœ¬å‚è€ƒ**:
```python
# åŸŸåç®¡ç†é›†æˆ
domain_manager = get_domain_manager()
host, port = domain_manager.get_host_port_from_request(request)
is_valid, error_msg = domain_manager.validate_domain_access(host, port)
```

#### 4.4 é”™è¯¯å¤„ç†å’Œå“åº”æ ‡å‡†åŒ–
**ç›®æ ‡**: å®ç°æ ‡å‡†åŒ–çš„é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼

**å½“å‰çŠ¶æ€**: åŸºç¡€é”™è¯¯å¤„ç†å­˜åœ¨ï¼Œä½†ä¸å¤Ÿæ ‡å‡†åŒ–

**æ–‡ä»¶**: 
- `src/server/middleware/error-handler.ts` (ç¼ºå¤±)
- `src/server/utils/response-formatter.ts` (ç¼ºå¤±)

**ç¼ºå¤±çš„æ ¸å¿ƒåŠŸèƒ½**:
- [ ] **ç»Ÿä¸€é”™è¯¯å¤„ç†**: å…¨å±€é”™è¯¯å¤„ç†ä¸­é—´ä»¶
- [ ] **æ ‡å‡†å“åº”æ ¼å¼**: ç»Ÿä¸€çš„APIå“åº”æ ¼å¼
- [ ] **é”™è¯¯åˆ†ç±»**: ä¸åŒç±»å‹é”™è¯¯çš„åˆ†ç±»å¤„ç†
- [ ] **é”™è¯¯æ—¥å¿—**: è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•

#### 4.5 æœåŠ¡å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
**ç›®æ ‡**: å®ç°æœåŠ¡å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†

**å½“å‰çŠ¶æ€**: åŸºç¡€å¯åŠ¨åœæ­¢åŠŸèƒ½å­˜åœ¨

**æ–‡ä»¶**: `src/server/express/anp-server.ts` (éœ€è¦å¢å¼º)

**éœ€è¦å¢å¼ºçš„åŠŸèƒ½**:
- [ ] **ä¼˜é›…å…³é—­**: ä¼˜é›…å…³é—­æœºåˆ¶
- [ ] **å¥åº·æ£€æŸ¥**: è¯¦ç»†çš„å¥åº·æ£€æŸ¥ç«¯ç‚¹
- [ ] **æœåŠ¡å‘ç°**: æœåŠ¡æ³¨å†Œå’Œå‘ç°
- [ ] **ç›‘æ§æŒ‡æ ‡**: æœåŠ¡å™¨ç›‘æ§æŒ‡æ ‡

### é˜¶æ®µäº”ï¼šé…ç½®å’Œå¼€å‘æ¨¡å¼æ”¯æŒ (ä¼˜å…ˆçº§ï¼šğŸ”¥)

#### 5.1 é…ç½®æ¨¡å¼æ”¯æŒ
**ç›®æ ‡**: æ”¯æŒYAMLé…ç½®æ–‡ä»¶å®šä¹‰Agent

**æ–‡ä»¶**: `src/runtime/config/config-agent-loader.ts`

**æ ¸å¿ƒåŠŸèƒ½**:
- [ ] YAMLé…ç½®è§£æ
- [ ] åŠ¨æ€Agentåˆ›å»º
- [ ] å¤„ç†å™¨ç»‘å®š
- [ ] é…ç½®éªŒè¯

#### 5.2 è‡ªå®šä¹‰æ³¨å†Œæ¨¡å¼
**ç›®æ ‡**: æ”¯æŒ`agent_register.js`è‡ªå®šä¹‰æ³¨å†Œ

**æ–‡ä»¶**: `src/runtime/config/custom-register-loader.ts`

**æ ¸å¿ƒåŠŸèƒ½**:
- [ ] è‡ªå®šä¹‰æ³¨å†Œè„šæœ¬åŠ è½½
- [ ] åŠ¨æ€æ–¹æ³•ç»‘å®š
- [ ] é”™è¯¯å¤„ç†
- [ ] è°ƒè¯•æ”¯æŒ

### é˜¶æ®µäº”ï¼šå·¥å…·å’Œç¤ºä¾‹å®Œå–„ (ä¼˜å…ˆçº§ï¼šâš ï¸)

#### 5.1 ç”¨æˆ·ç®¡ç†å·¥å…·
**ç›®æ ‡**: æä¾›ç”¨æˆ·ç®¡ç†CLIå·¥å…·

**æ–‡ä»¶**: `src/tools/user-manager.ts`

**æ ¸å¿ƒåŠŸèƒ½**:
- [ ] åˆ›å»ºç”¨æˆ·
- [ ] åˆ—å‡ºç”¨æˆ·
- [ ] åˆ é™¤ç”¨æˆ·
- [ ] ç”¨æˆ·ä¿¡æ¯æŸ¥çœ‹

#### 5.2 å®Œæ•´ç¤ºä¾‹åº”ç”¨
**ç›®æ ‡**: æä¾›å®Œæ•´çš„ç¤ºä¾‹åº”ç”¨

**æ–‡ä»¶**: `examples/complete-anp-app/`

**æ ¸å¿ƒåŠŸèƒ½**:
- [ ] å¤šAgentåä½œç¤ºä¾‹
- [ ] é…ç½®æ–‡ä»¶ç¤ºä¾‹
- [ ] éƒ¨ç½²è„šæœ¬
- [ ] æµ‹è¯•ç”¨ä¾‹

## ğŸ“… å®æ–½æ—¶é—´è¡¨

### ç¬¬1å‘¨ï¼šFoundationå±‚æ ¸å¿ƒå®ç°
- [ ] Day 1-2: `LocalUserDataManager`åŸºç¡€å®ç°
- [ ] Day 3-4: `LocalUserData`ç±»å’Œå¯†é’¥ç®¡ç†
- [ ] Day 5-7: ç”¨æˆ·åˆ›å»ºå·¥å…·å’Œæ•°æ®æŒä¹…åŒ–

### ç¬¬2å‘¨ï¼šServicePointå’ŒRuntimeå¢å¼º
- [ ] Day 1-3: è®¤è¯ä¸­é—´ä»¶å’ŒæœåŠ¡å¤„ç†å™¨
- [ ] Day 4-5: Agenté—´é€šä¿¡å®ç°
- [ ] Day 6-7: æœ¬åœ°æ–¹æ³•è°ƒç”¨ç³»ç»Ÿ

### ç¬¬3å‘¨ï¼šé…ç½®æ¨¡å¼å’Œç”Ÿå‘½å‘¨æœŸ
- [ ] Day 1-3: é…ç½®æ¨¡å¼æ”¯æŒ
- [ ] Day 4-5: è‡ªå®šä¹‰æ³¨å†Œæ¨¡å¼
- [ ] Day 6-7: Agentç”Ÿå‘½å‘¨æœŸç®¡ç†

### ç¬¬4å‘¨ï¼šæµ‹è¯•å’Œæ–‡æ¡£
- [ ] Day 1-3: å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- [ ] Day 4-5: ç¤ºä¾‹åº”ç”¨å’Œæ–‡æ¡£
- [ ] Day 6-7: æ€§èƒ½ä¼˜åŒ–å’Œbugä¿®å¤

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### å…³é”®æŠ€æœ¯å†³ç­–

1. **TypeScriptä¸¥æ ¼æ¨¡å¼**: ç¡®ä¿ç±»å‹å®‰å…¨
2. **å¼‚æ­¥ä¼˜å…ˆ**: æ‰€æœ‰I/Oæ“ä½œä½¿ç”¨async/await
3. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
4. **æ—¥å¿—ç³»ç»Ÿ**: ç»“æ„åŒ–æ—¥å¿—è®°å½•
5. **é…ç½®ç®¡ç†**: ç»Ÿä¸€çš„é…ç½®ç³»ç»Ÿ

### ä¾èµ–ç®¡ç†

**æ–°å¢ä¾èµ–**:
```json
{
  "dependencies": {
    "yaml": "^2.3.4",
    "chokidar": "^3.5.3",
    "joi": "^17.11.0"
  },
  "devDependencies": {
    "@types/yaml": "^1.9.7"
  }
}
```

### æµ‹è¯•ç­–ç•¥

1. **å•å…ƒæµ‹è¯•**: æ¯ä¸ªæ¨¡å—ç‹¬ç«‹æµ‹è¯•
2. **é›†æˆæµ‹è¯•**: Agenté—´é€šä¿¡æµ‹è¯•
3. **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´æµç¨‹æµ‹è¯•
4. **æ€§èƒ½æµ‹è¯•**: å¹¶å‘å’Œè´Ÿè½½æµ‹è¯•

## ğŸ¯ æˆåŠŸæ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] ä¸Pythonç‰ˆæœ¬åŠŸèƒ½å¯¹ç­‰
- [ ] æ‰€æœ‰ç¤ºä¾‹æ­£å¸¸è¿è¡Œ
- [ ] å®Œæ•´çš„DIDè®¤è¯æµç¨‹
- [ ] Agenté—´é€šä¿¡æ­£å¸¸

### ä»£ç è´¨é‡
- [ ] TypeScriptç±»å‹è¦†ç›–ç‡ > 95%
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- [ ] ESLintæ— è­¦å‘Š
- [ ] æ–‡æ¡£å®Œæ•´

### æ€§èƒ½æŒ‡æ ‡
- [ ] Agentåˆ›å»ºæ—¶é—´ < 100ms
- [ ] APIè°ƒç”¨å»¶è¿Ÿ < 50ms
- [ ] å†…å­˜ä½¿ç”¨ç¨³å®š
- [ ] æ”¯æŒ100+å¹¶å‘Agent

## ğŸš€ å¼€å§‹å®æ–½

### ç«‹å³å¼€å§‹çš„ä»»åŠ¡

1. **åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„**
2. **å®ç°LocalUserDataManageréª¨æ¶**
3. **å»ºç«‹æµ‹è¯•æ¡†æ¶**
4. **è®¾ç½®CI/CDæµç¨‹**

### ç¬¬ä¸€ä¸ªé‡Œç¨‹ç¢‘

**ç›®æ ‡**: å®ç°åŸºæœ¬çš„ç”¨æˆ·æ•°æ®ç®¡ç†
**æ—¶é—´**: 1å‘¨
**éªŒæ”¶æ ‡å‡†**: 
- èƒ½å¤Ÿåˆ›å»ºå’ŒåŠ è½½ç”¨æˆ·DID
- å¯†é’¥æ–‡ä»¶æ­£ç¡®ç”Ÿæˆå’ŒåŠ è½½
- åŸºæœ¬çš„ç”¨æˆ·æ•°æ®æŒä¹…åŒ–

---

## ğŸ“ å¤‡æ³¨

- ä¼˜å…ˆå®ç°Foundationå±‚ï¼Œè¿™æ˜¯æ•´ä¸ªç³»ç»Ÿçš„åŸºç¡€
- ä¿æŒä¸Pythonç‰ˆæœ¬çš„APIå…¼å®¹æ€§
- é‡è§†é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- åŠæ—¶ç¼–å†™æµ‹è¯•å’Œæ–‡æ¡£

**è®©æˆ‘ä»¬å¼€å§‹é€æ­¥å®æ–½è¿™ä¸ªè®¡åˆ’ï¼** ğŸš€
